{"ast":null,"code":"import { types } from \"../actions/index\";\nconst {\n  ADD_TO_CART\n} = types;\nconst initialState = {\n  items: [],\n  totalItems: 0,\n  totalPrice: 0\n};\n\nconst cartReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_TO_CART:\n      // if cart is empty add to cart\n      let data = { ...payload,\n        quantity: 1\n      };\n\n      if (state.items.length === 0) {\n        return { ...state,\n          items: state.items.concat(data),\n          totalItems: 1,\n          totalPrice: payload.price\n        };\n      } // if not equal then add item to cart\n      // if cart item id is equal to payload id just add quantity\n\n\n      let availableItem = state.items.find(item => item.id === payload.id);\n\n      if (!availableItem) {\n        return { ...state,\n          items: state.items.concat(data),\n          totalItems: state.totalItems += 1,\n          totalPrice: state.totalPrice += data.price\n        };\n      } else {\n        state.items.map(item => item.quantity += 1);\n        return { ...state,\n          totalItems: state.totalItems += 1,\n          totalPrice: state.totalPrice += data.price\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/lambda_school_loaner_18/Desktop/Sean/React Native/goSaveMore/goSaveMore-FE/gsm-frontend/src/redux/reducers/cartReducer.js"],"names":["types","ADD_TO_CART","initialState","items","totalItems","totalPrice","cartReducer","state","type","payload","data","quantity","length","concat","price","availableItem","find","item","id","map"],"mappings":"AAAA,SAASA,KAAT,QAAsB,kBAAtB;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAkBD,KAAxB;AACA,MAAME,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY;AAEnBC,EAAAA,UAAU,EAAE,CAFO;AAGnBC,EAAAA,UAAU,EAAE;AAHO,CAArB;;AAMA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuB;AAAEM,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAvB,KAA6C;AAC/D,UAAQD,IAAR;AACE,SAAKP,WAAL;AACE;AACA,UAAIS,IAAI,GAAG,EACT,GAAGD,OADM;AAETE,QAAAA,QAAQ,EAAE;AAFD,OAAX;;AAMA,UAAIJ,KAAK,CAACJ,KAAN,CAAYS,MAAZ,KAAuB,CAA3B,EAA8B;AAE5B,eAAO,EACL,GAAGL,KADE;AAELJ,UAAAA,KAAK,EAAEI,KAAK,CAACJ,KAAN,CAAYU,MAAZ,CAAmBH,IAAnB,CAFF;AAGLN,UAAAA,UAAU,EAAE,CAHP;AAILC,UAAAA,UAAU,EAAEI,OAAO,CAACK;AAJf,SAAP;AAMD,OAhBH,CAiBE;AAEE;;;AACC,UAAIC,aAAa,GAAGR,KAAK,CAACJ,KAAN,CAAYa,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYT,OAAO,CAACS,EAA7C,CAApB;;AACA,UAAG,CAACH,aAAJ,EAAmB;AACjB,eAAO,EACL,GAAGR,KADE;AAELJ,UAAAA,KAAK,EAAEI,KAAK,CAACJ,KAAN,CAAYU,MAAZ,CAAmBH,IAAnB,CAFF;AAGLN,UAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,IAAoB,CAH3B;AAILC,UAAAA,UAAU,EAAEE,KAAK,CAACF,UAAN,IAAoBK,IAAI,CAACI;AAJhC,SAAP;AAMD,OAPD,MAOO;AACNP,QAAAA,KAAK,CAACJ,KAAN,CAAYgB,GAAZ,CAAgBF,IAAI,IAAIA,IAAI,CAACN,QAAL,IAAiB,CAAzC;AACC,eAAO,EACL,GAAGJ,KADE;AAELH,UAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,IAAoB,CAF3B;AAGLC,UAAAA,UAAU,EAAEE,KAAK,CAACF,UAAN,IAAoBK,IAAI,CAACI;AAHhC,SAAP;AAKD;;AAMN;AACE,aAAOP,KAAP;AA3CJ;AA6CD,CA9CD;;AAgDA,eAAeD,WAAf","sourcesContent":["import { types } from \"../actions/index\";\nconst { ADD_TO_CART } = types;\nconst initialState = {\n  items: [],\n  totalItems: 0,\n  totalPrice: 0\n};\n\nconst cartReducer = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART:\n      // if cart is empty add to cart\n      let data = {\n        ...payload,\n        quantity: 1\n      }\n\n\n      if (state.items.length === 0) {\n\n        return {\n          ...state,\n          items: state.items.concat(data),\n          totalItems: 1,\n          totalPrice: payload.price\n        };\n      }  \n      // if not equal then add item to cart\n\n        // if cart item id is equal to payload id just add quantity\n         let availableItem = state.items.find(item => item.id === payload.id);\n         if(!availableItem) {\n           return {\n             ...state,\n             items: state.items.concat(data),\n             totalItems: state.totalItems += 1,\n             totalPrice: state.totalPrice += data.price\n           }\n         } else {\n          state.items.map(item => item.quantity += 1);\n           return {\n             ...state,\n             totalItems: state.totalItems += 1,\n             totalPrice: state.totalPrice += data.price\n           }\n         }\n    \n      \n\n      \n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}